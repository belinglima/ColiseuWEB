{"ast":null,"code":"import _regeneratorRuntime from\"/home/belinglima/MEGAsync/TCC/Projetos/Coliseu/coliseuweb/ColiseuWEB/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/belinglima/MEGAsync/TCC/Projetos/Coliseu/coliseuweb/ColiseuWEB/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/belinglima/MEGAsync/TCC/Projetos/Coliseu/coliseuweb/ColiseuWEB/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/belinglima/MEGAsync/TCC/Projetos/Coliseu/coliseuweb/ColiseuWEB/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/belinglima/MEGAsync/TCC/Projetos/Coliseu/coliseuweb/ColiseuWEB/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/belinglima/MEGAsync/TCC/Projetos/Coliseu/coliseuweb/ColiseuWEB/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/belinglima/MEGAsync/TCC/Projetos/Coliseu/coliseuweb/ColiseuWEB/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link,withRouter}from\"react-router-dom\";import api from'../services/api';import{login}from'../services/auth';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(){var _getPrototypeOf2;var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Login)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={email:\"\",password:\"\",error:\"\"};_this.handleSignIn=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _this$state,email,password,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_this$state=_this.state,email=_this$state.email,password=_this$state.password;if(!(!email||!password)){_context.next=6;break;}_this.setState({error:\"Preencha ( E-Mail e Senha ) para continuar!\"});_context.next=16;break;case 6:_context.prev=6;_context.next=9;return api.post(\"/sessions\",{email:email,password:password});case 9:response=_context.sent;if(response){login(response.data.token);localStorage.setItem('@Coliseu',4);_this.props.history.push(\"/\");}_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](6);_this.setState({error:\"Houve um problema com o login.\"});case 16:case\"end\":return _context.stop();}}},_callee,null,[[6,13]]);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"parallax-container targetTopo\"},React.createElement(\"div\",{className:\"parallax corPadrao\"},React.createElement(\"div\",{className:\"container\"},React.createElement(\"h2\",{style:{color:'#fff'}},\"Login\")))),React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"form\",{className:\"col s12 m6\"},React.createElement(\"div\",{className:\"card-panel\",style:{marginTop:'-40px',borderRadius:'22px'}},React.createElement(\"div\",{className:\"row\"},React.createElement(\"form\",{onSubmit:this.handleSignIn},React.createElement(\"div\",{className:\"input-field col s12\"},React.createElement(\"input\",{name:\"email\",type:\"email\",className:\"validate\",onChange:function onChange(e){return _this2.setState({email:e.target.value});}}),React.createElement(\"label\",null,\"Email\")),React.createElement(\"div\",{className:\"input-field col s12\"},React.createElement(\"input\",{name:\"password\",type:\"text\",className:\"validate\",onChange:function onChange(e){return _this2.setState({password:e.target.value});}}),React.createElement(\"label\",null,\"Senha\")),React.createElement(\"div\",{className:\"input-field col s12\"},React.createElement(\"button\",{type:\"submit\",className:\"btn-large corPadrao\",style:{width:'40%',borderRadius:'28px'}},\"ENTRAR\"))))),this.state.error?React.createElement(\"div\",{className:\"msg\"},this.state.error):''))));}}]);return Login;}(Component);export default withRouter(Login);","map":{"version":3,"sources":["/home/belinglima/MEGAsync/TCC/Projetos/Coliseu/coliseuweb/ColiseuWEB/src/components/login.js"],"names":["React","Component","Link","withRouter","api","login","Login","state","email","password","error","handleSignIn","e","preventDefault","setState","post","response","data","token","localStorage","setItem","props","history","push","color","marginTop","borderRadius","target","value","width"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport { Link, withRouter } from \"react-router-dom\";\nimport api from '../services/api'\nimport { login } from '../services/auth'\n\nclass Login extends Component {\n\n    state = {\n        email: \"\",\n        password: \"\",\n        error: \"\"\n      };\n\n    handleSignIn = async e => {\n        e.preventDefault();\n        const { email, password } = this.state;\n        if (!email || !password) {\n          this.setState({ error: \"Preencha ( E-Mail e Senha ) para continuar!\" });\n        } else {\n          try {\n            const response = await api.post(\"/sessions\", { email, password });\n            if (response){\n              login(response.data.token);\n              localStorage.setItem('@Coliseu', 4)\n              this.props.history.push(\"/\");\n            }\n          } catch (err) {\n            this.setState({\n              error:\n                \"Houve um problema com o login.\"\n            });\n          }\n        }\n      };\n      render(){\n    return (\n        <div>\n        <div className=\"parallax-container targetTopo\">\n            <div className=\"parallax corPadrao\">\n                <div className=\"container\">\n                    <h2 style={{ color: '#fff' }}>Login</h2>\n                </div>\n            </div>\n        </div>\n        <div className=\"container\">\n            <div className=\"row\">\n                <form className=\"col s12 m6\">\n                    <div className=\"card-panel\" style={{ marginTop: '-40px' ,borderRadius: '22px' }}>\n                        <div className=\"row\">\n                        <form onSubmit={this.handleSignIn}>\n                            <div className=\"input-field col s12\">\n                                <input name=\"email\" type=\"email\" className=\"validate\" \n                                 onChange={e => this.setState({ email: e.target.value })}/>\n                                <label>Email</label>\n                            </div>\n                            <div className=\"input-field col s12\">\n                                <input name=\"password\" type=\"text\" className=\"validate\" \n                                onChange={e => this.setState({ password: e.target.value })}/>\n                                <label>Senha</label>\n                            </div>\n                            <div className=\"input-field col s12\">\n                                <button type=\"submit\" className=\"btn-large corPadrao\" \n                                    style={{ width: '40%', borderRadius: '28px' }}>\n                                    ENTRAR\n                                </button>\n                            </div>\n                        </form>\n                        </div>\n                    </div>\n                    { this.state.error ? \n                        <div className=\"msg\">\n                            {this.state.error}\n                        </div>\n                        : ''}\n                </form>\n            </div>\n        </div>\n    </div>\n    )\n};\n}\n\nexport default withRouter(Login)"]},"metadata":{},"sourceType":"module"}