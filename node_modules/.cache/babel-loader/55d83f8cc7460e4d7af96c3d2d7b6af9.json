{"ast":null,"code":"import _regeneratorRuntime from\"/home/belinglima/MEGAsync/TCC/Projetos/Coliseu/coliseuweb/ColiseuWEB/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/belinglima/MEGAsync/TCC/Projetos/Coliseu/coliseuweb/ColiseuWEB/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/belinglima/MEGAsync/TCC/Projetos/Coliseu/coliseuweb/ColiseuWEB/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/belinglima/MEGAsync/TCC/Projetos/Coliseu/coliseuweb/ColiseuWEB/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/belinglima/MEGAsync/TCC/Projetos/Coliseu/coliseuweb/ColiseuWEB/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/belinglima/MEGAsync/TCC/Projetos/Coliseu/coliseuweb/ColiseuWEB/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/belinglima/MEGAsync/TCC/Projetos/Coliseu/coliseuweb/ColiseuWEB/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/belinglima/MEGAsync/TCC/Projetos/Coliseu/coliseuweb/ColiseuWEB/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import api from'../services/api';import Config from'../tempo';import Menu from'./menu';var EditUser=/*#__PURE__*/function(_Component){_inherits(EditUser,_Component);function EditUser(){var _getPrototypeOf2;var _this;_classCallCheck(this,EditUser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(EditUser)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={name:'',email:'',password:'',birthday:'',foto:null,company_id:'',username:'padrao',isAdmin:0,show:false,loader:false,aviso:''};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleImageChange=function(e){_this.setState({foto:e.target.files[0]});};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var company_idd,id;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(_this.state.name===''||_this.state.email===''||_this.state.password===''||_this.state.birthday===''||_this.state.foto===''||_this.state.username===''||_this.state.isAdmin==='')){_context.next=4;break;}_this.setState({aviso:'Erro... Campos necessarios a serem preenchidos'});return _context.abrupt(\"return\");case 4:_context.prev=4;company_idd=localStorage.getItem('@Coliseu');id=_this.props.match.params.id;_context.next=9;return api.put(\"/auth/user/\".concat(id),{name:_this.state.name,email:_this.state.email,company_id:company_idd,password:_this.state.password,birthday:_this.state.birthday,username:_this.state.username,isAdmin:_this.state.isAdmin}).then(function(res){console.log(res);var form_data=new FormData();form_data.append('image[]',_this.state.foto);api.post(\"/user/\".concat(res.data.data,\"/images\"),form_data,{headers:{'content-type':'multipart/form-data'}});});case 9:_this.setState({aviso:'Ok! Usuário Editado com sucesso',loader:true});_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](4);_this.setState({aviso:'Erro: '+_context.t0});case 15:_this.tempoAviso();case 16:case\"end\":return _context.stop();}}},_callee,null,[[4,12]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.tempoAviso=function(){setTimeout(function(){_this.setState({loader:false});_this.props.history.push('/users');//   window.location.reload()\n},5000);};_this.apagar=function(){_this.setState({name:'',email:'',company_id:'',password:'',birthday:'',foto:'',username:'padrao',isAdmin:0});};return _this;}_createClass(EditUser,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this2=this;var id,dados;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id=this.props.match.params.id;_context2.next=3;return api.get(\"/auth/user/\".concat(id));case 3:dados=_context2.sent;console.log(dados.data);this.setState({name:dados.data.name,email:dados.data.email,password:dados.data.password,birthday:dados.data.birthday,// foto: dados.data.images[dados.data.images.length -1].path,\nusername:dados.data.username+dados.data.name,isAdmin:dados.data.isAdmin,loader:true,company_id:this.state.company_id});setTimeout(function(){_this2.setState({show:true,loader:false});},Config());case 7:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return React.createElement(\"div\",null,this.state.loader===true?React.createElement(\"div\",{className:\"container fundo\"},React.createElement(\"div\",{className:\"row loader\"},React.createElement(\"div\",{className:\"col s12 center\"},React.createElement(\"img\",{src:\"../../logo.svg\",width:\"100px\",height:\"100px\"})))):React.createElement(\"div\",null,React.createElement(Menu,null),React.createElement(\"div\",{className:\"orelha\"}),React.createElement(\"div\",{className:\"parallax-container targetTopo\"},React.createElement(\"div\",{className:\"parallax corPadrao\"},React.createElement(\"div\",{className:\"container\"},React.createElement(\"h4\",{style:{color:'#fff'}},\"Cadastrar novo usu\\xE1rio\")))),React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"form\",{className:\"col s12\"},React.createElement(\"div\",{className:\"card-panel\",style:{marginTop:'-40px',borderRadius:'22px'}},React.createElement(\"div\",{className:\"row\"},React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"col s12 center\"},React.createElement(\"label\",{className:\"corPadrao white-text\"},\"Foto do Usu\\xE1rio\"),React.createElement(\"div\",{className:\"file-field input-field\"},React.createElement(\"div\",{className:\"btn corPadrao\"},React.createElement(\"span\",null,\"Selecionar\"),React.createElement(\"input\",{type:\"file\",name:\"image[]\",accept:\"image/png, image/jpeg\",onChange:this.handleImageChange,required:true})),React.createElement(\"div\",{className:\"file-path-wrapper\"},React.createElement(\"input\",{className:\"file-path validate\",type:\"text\",placeholder:\"Upload file\",required:true})))),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"input-field col s6\"},React.createElement(\"p\",null,\"Nome\"),React.createElement(\"input\",{name:\"name\",className:\"validate\",type:\"text\",onChange:this.handleChange,value:this.state.name})),React.createElement(\"div\",{className:\"input-field col s6\"},React.createElement(\"p\",null,\"Email\"),React.createElement(\"input\",{name:\"email\",type:\"email\",className:\"validate\",value:this.state.email,onChange:this.handleChange})),React.createElement(\"div\",{className:\"input-field col s6\"},React.createElement(\"p\",null,\"Senha criptografada, \\xE9 necess\\xE1rio gerar uma nova\"),React.createElement(\"input\",{name:\"password\",type:\"text\",className:\"validate\",value:this.state.password,onChange:this.handleChange})),React.createElement(\"div\",{className:\"input-field col s6\"},React.createElement(\"p\",null,\"Nascimento\"),React.createElement(\"input\",{name:\"birthday\",type:\"date\",className:\"validate\",value:this.state.birthday,onChange:this.handleChange})),React.createElement(\"div\",{className:\"input-field col s11\"},React.createElement(\"button\",{className:\"btn-floating corPadrao right\",style:{marginLeft:'50px',marginTop:'50p'},type:\"reset\",onClick:this.apagar},React.createElement(\"i\",{className:\"material-icons right\"},\"delete_forever\"))),React.createElement(\"div\",{className:\"input-field col s1\"},React.createElement(\"button\",{className:\"btn-floating corPadrao right\",style:{marginLeft:'50px',marginTop:'50p'},type:\"submit\"},React.createElement(\"i\",{className:\"material-icons right\"},\"save\"))),this.state.aviso!==''?React.createElement(\"div\",{className:\"alert alert-info mt-3\"},this.state.aviso):''))))))));}}]);return EditUser;}(Component);export default EditUser;","map":{"version":3,"sources":["/home/belinglima/MEGAsync/TCC/Projetos/Coliseu/coliseuweb/ColiseuWEB/src/components/editUser.js"],"names":["React","Component","api","Config","Menu","EditUser","state","name","email","password","birthday","foto","company_id","username","isAdmin","show","loader","aviso","handleChange","e","setState","target","value","handleImageChange","files","handleSubmit","preventDefault","company_idd","localStorage","getItem","id","props","match","params","put","then","res","console","log","form_data","FormData","append","post","data","headers","tempoAviso","setTimeout","history","push","apagar","get","dados","color","marginTop","borderRadius","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport api from '../services/api'\nimport Config from '../tempo'\nimport Menu from './menu'\n\nclass EditUser extends Component {\n    state = {\n        name: '',\n        email: '',\n        password: '',\n        birthday: '',\n        foto: null,\n        company_id: '',\n        \n        username: 'padrao',\n        isAdmin: 0,\n\n        show: false,\n        loader: false,\n        aviso: ''\n    }\n\n    handleChange = e => {\n      this.setState({[e.target.name]: e.target.value})\n    }\n\n    handleImageChange = (e) => {\n        this.setState({\n          foto: e.target.files[0]\n        })\n      };\n\n      async componentDidMount() {\n        const { id }  = this.props.match.params;\n        const dados = await api.get(`/auth/user/${id}`)\n        console.log(dados.data)\n        this.setState({\n            name: dados.data.name,\n            email: dados.data.email,\n            password: dados.data.password,\n            birthday: dados.data.birthday,\n            // foto: dados.data.images[dados.data.images.length -1].path,\n            username: dados.data.username+dados.data.name,\n            isAdmin: dados.data.isAdmin,\n            loader: true,\n            company_id: this.state.company_id\n        })\n        \n        setTimeout(() =>{\n            this.setState({ \n                show: true ,\n                loader: false\n            })   \n        }, Config())\n    }\n\n    handleSubmit = async e => {\n        e.preventDefault()\n        \n        if (this.state.name === '' || this.state.email === '' \n        || this.state.password === '' || this.state.birthday === '' \n        || this.state.foto === '' || this.state.username === '' \n        || this.state.isAdmin === '') {\n          this.setState({aviso: 'Erro... Campos necessarios a serem preenchidos'})\n          return;\n        }\n \n        try {\n            const company_idd = localStorage.getItem('@Coliseu')\n            const { id }  = this.props.match.params;\n            \n            await api.put(`/auth/user/${id}`,\n            {\n                name: this.state.name,\n                email: this.state.email,\n                company_id: company_idd,\n                password: this.state.password,\n                birthday: this.state.birthday,\n                username: this.state.username,\n                isAdmin: this.state.isAdmin\n            })\n            .then(res => {\n                console.log(res)\n\n                let form_data = new FormData();\n                form_data.append('image[]', this.state.foto);\n                api.post(`/user/${res.data.data}/images`, form_data, {\n                    headers: {\n                        'content-type': 'multipart/form-data'\n                    }\n                })\n            })\n\n          this.setState({aviso: 'Ok! Usuário Editado com sucesso', loader: true})  \n        } catch (erro) {\n          this.setState({aviso: 'Erro: '+erro})\n        }\n        this.tempoAviso()\n      }\n    \n      tempoAviso = () => {\n        setTimeout(() => {\n          this.setState({ loader: false})\n          this.props.history.push('/users')\n        //   window.location.reload()\n        }, 5000)\n      }\n\n      apagar = () => {\n          this.setState({\n            name: '',\n            email: '',\n            company_id: '',\n            password: '',\n            birthday: '',\n            foto: '',\n            username: 'padrao',\n            isAdmin: 0\n          })\n      }\n\n\n    render(){\n        return(\n            <div>\n       \n        {this.state.loader === true ? \n\n            <div className=\"container fundo\">\n                <div className=\"row loader\">\n                    <div className=\"col s12 center\">\n                        <img src=\"../../logo.svg\" width=\"100px\" height=\"100px\" />\n                    </div>\n                </div>\n            </div>\n        :\n        \n            <div>\n                <Menu />\n                <div className=\"orelha\"></div>\n                <div className=\"parallax-container targetTopo\">\n                    <div className=\"parallax corPadrao\">\n                        <div className=\"container\">\n                            <h4 style={{ color: '#fff' }}>Cadastrar novo usuário</h4>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <form className=\"col s12\">\n                            <div className=\"card-panel\" style={{ marginTop: '-40px', borderRadius: '22px' }}>\n                                <div className=\"row\">\n                                    <form onSubmit={this.handleSubmit}>\n                                    <br /><br />\n                                        <div className=\"col s12 center\">\n                                            <label className=\"corPadrao white-text\">Foto do Usuário</label>\n                                            <div className = \"file-field input-field\">\n                                                <div className = \"btn corPadrao\">\n                                                <span>Selecionar</span>\n                                                <input type = \"file\" \n                                                    name=\"image[]\"\n                                                    accept=\"image/png, image/jpeg\"  \n                                                    onChange={this.handleImageChange} \n                                                    required\n                                                />\n                                                </div>\n                                                \n                                                <div className = \"file-path-wrapper\">\n                                                <input className = \"file-path validate\" type = \"text\"\n                                                    placeholder = \"Upload file\" \n                                                    required\n                                                    />\n                                                </div>\n                                            </div>\n                                            \n                                             </div><br /><br /><br />\n\n                                        <div className=\"input-field col s6\">\n                                        <p>Nome</p>\n                                            <input name=\"name\"  className=\"validate\" type=\"text\"\n                                            onChange={this.handleChange} \n                                            value={this.state.name}\n                                            />\n                                             {/* <label className=\"active\">Nome</label> */}\n                                        </div>\n\n                                        <div className=\"input-field col s6\">\n                                        <p>Email</p>\n                                            <input name=\"email\" type=\"email\" className=\"validate\" \n                                            value={this.state.email} \n                                            onChange={this.handleChange}\n                                            />\n                                            {/* <label className=\"active\">Email</label> */}\n                                            \n                                        </div>\n\n                                        <div className=\"input-field col s6\">\n                                        <p>Senha criptografada, é necessário gerar uma nova</p>\n                                            <input name=\"password\" type=\"text\" className=\"validate\"\n                                            value={this.state.password} \n                                            onChange={this.handleChange}\n                                            />\n                                            {/* <label className=\"active\">Senha</label> */}\n                                           \n                                        </div>\n                                       \n\n                                        <div className=\"input-field col s6\">\n                                        <p>Nascimento</p>\n                                            <input name=\"birthday\" type=\"date\" className=\"validate\"\n                                            value={this.state.birthday} \n                                            onChange={this.handleChange}\n                                            />\n                                            {/* <label className=\"active\">Nascimento</label> */}\n                                           \n                                        </div>\n\n                                        <div className=\"input-field col s11\">\n                                            <button className=\"btn-floating corPadrao right\"\n                                            style={{marginLeft: '50px', marginTop: '50p'}} \n                                                type=\"reset\" onClick={this.apagar}>\n                                                <i className=\"material-icons right\">delete_forever</i>\n                                            </button>\n                                        </div>\n\n                                        <div className=\"input-field col s1\">\n                                            <button className=\"btn-floating corPadrao right\"\n                                            style={{marginLeft: '50px', marginTop: '50p'}} \n                                                type=\"submit\">\n                                                <i className=\"material-icons right\">save</i>\n                                            </button>\n                                        </div>\n\n                                        {this.state.aviso !== '' ?\n                                            <div className='alert alert-info mt-3'>\n                                            {this.state.aviso}\n                                            </div>\n                                        : ''}\n                                    </form>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        }\n        </div>\n        )\n    }\n}\n\nexport default EditUser"]},"metadata":{},"sourceType":"module"}